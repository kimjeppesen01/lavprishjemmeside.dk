@import "tailwindcss";
@import "./theme.css";

/* Tailwind v4 automatically recognizes CSS variables */
/* Use as: bg-[var(--color-primary)] or text-[var(--color-text-primary)] */

/* Smooth scroll â€” only when enabled in design settings */
html.smooth-scroll {
  scroll-behavior: smooth;
}

/* Grain overlay - subtle noise texture */
.grain-overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
}

/* Page loader - fades out on load */
.page-loader {
  position: fixed;
  inset: 0;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-bg-page, #fff);
  transition: opacity 0.4s ease, visibility 0.4s ease;
}
.page-loader--hidden {
  opacity: 0;
  visibility: hidden;
}

/* When radius is full: center card content, avoid text slipping into corners */
.radius-full article[class*="rounded-[var(--radius-card)]"] {
  text-align: center;
}
.radius-full article.flex[class*="rounded-[var(--radius-card)]"] {
  flex-direction: column;
  align-items: center;
}

/* --- Section background alternation (standardized) --- */
/* Modern practice: alternate between page and alt for visual rhythm and reduced "wall of white" */
.section-bg-page {
  background-color: var(--color-bg-page);
  transition: background-color 0.25s ease;
}
.section-bg-alt {
  background-color: var(--color-bg-section-alt);
  transition: background-color 0.25s ease;
}

/* Stats banner: number grow-in on load + count-up + hover */
@keyframes stat-grow {
  from {
    transform: scale(0.5);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}
.stat-number {
  animation: stat-grow 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  transform-origin: center center;
}
.stat-number--hover {
  transition: transform 0.25s ease;
}
.stat-number--hover:hover {
  transform: scale(1.08);
}
@media (prefers-reduced-motion: reduce) {
  .stat-number {
    animation: none;
    opacity: 1;
  }
  .stat-number--hover:hover {
    transform: none;
  }
}

/* --- Container queries (responsive by container width, not viewport) --- */
.container-query {
  container-type: inline-size;
  container-name: cq;
}
@container cq (min-width: 320px) {
  .cq-grid-sm { grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); }
}
@container cq (min-width: 640px) {
  .cq-grid-md { grid-template-columns: repeat(2, 1fr); }
}
@container cq (min-width: 896px) {
  .cq-grid-lg { grid-template-columns: repeat(3, 1fr); }
}
@container cq (min-width: 640px) {
  .cq-pricing-2 { grid-template-columns: repeat(2, 1fr); }
}
@container cq (min-width: 896px) {
  .cq-pricing-3 { grid-template-columns: repeat(3, 1fr); }
}

/* --- Scroll-driven animations (where supported) --- */
@supports (animation-timeline: view()) {
  @keyframes scroll-fade-in {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .scroll-driven-fade {
    animation: scroll-fade-in linear both;
    animation-timeline: view();
    animation-range: entry 0% entry 80%;
  }
}
@media (prefers-reduced-motion: reduce) {
  .scroll-driven-fade {
    animation: none;
  }
}

/* --- 2026 UI primitives --- */
.modern-shell {
  position: relative;
  isolation: isolate;
}

.modern-shell::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: -1;
  background:
    radial-gradient(1200px 500px at 10% -10%, color-mix(in srgb, var(--color-primary) 15%, transparent), transparent 70%),
    radial-gradient(1000px 450px at 90% 0%, color-mix(in srgb, var(--color-secondary) 12%, transparent), transparent 72%);
  pointer-events: none;
}

.glass-surface {
  background: color-mix(in srgb, var(--color-bg-page) 88%, transparent);
  border: 1px solid color-mix(in srgb, var(--color-border) 72%, transparent);
  backdrop-filter: blur(12px) saturate(140%);
}

.card-modern {
  border: 1px solid color-mix(in srgb, var(--color-border) 80%, transparent);
  border-radius: var(--radius-card);
  background: color-mix(in srgb, var(--color-bg-page) 96%, transparent);
  box-shadow: var(--shadow-sm);
  transition: transform 0.24s ease, box-shadow 0.24s ease, border-color 0.24s ease;
}

.card-modern:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-lg);
  border-color: color-mix(in srgb, var(--color-primary) 30%, var(--color-border));
}

.heading-fluid {
  font-size: clamp(1.9rem, 1.1rem + 2.3vw, 3.2rem);
  letter-spacing: -0.02em;
  line-height: 1.06;
}

.eyebrow {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.3rem 0.65rem;
  border-radius: var(--radius-full);
  border: 1px solid color-mix(in srgb, var(--color-border) 78%, transparent);
  background: color-mix(in srgb, var(--color-bg-page) 92%, transparent);
  color: var(--color-text-secondary);
  font-size: 0.76rem;
  font-weight: 600;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.focus-modern:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--color-bg-page) 100%, transparent),
    0 0 0 4px color-mix(in srgb, var(--color-primary) 45%, transparent);
}
