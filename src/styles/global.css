@import "tailwindcss";
@import "./theme.css";

/* Tailwind v4 automatically recognizes CSS variables */
/* Use as: bg-[var(--color-primary)] or text-[var(--color-text-primary)] */

/* Smooth scroll â€” only when enabled in design settings */
html.smooth-scroll {
  scroll-behavior: smooth;
}

/* Grain overlay - subtle noise texture */
.grain-overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
}

/* Page loader - fades out on load */
.page-loader {
  position: fixed;
  inset: 0;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-bg-page, #fff);
  transition: opacity 0.4s ease, visibility 0.4s ease;
}
.page-loader--hidden {
  opacity: 0;
  visibility: hidden;
}

/* When radius is full: center card content, avoid text slipping into corners */
.radius-full article[class*="rounded-[var(--radius-card)]"] {
  text-align: center;
}
.radius-full article.flex[class*="rounded-[var(--radius-card)]"] {
  flex-direction: column;
  align-items: center;
}

/* --- Section background alternation (standardized) --- */
/* Modern practice: alternate between page and alt for visual rhythm and reduced "wall of white" */
.section-bg-page {
  background-color: var(--color-bg-page);
  transition: background-color 0.25s ease;
}
.section-bg-alt {
  background-color: var(--color-bg-section-alt);
  transition: background-color 0.25s ease;
}

/* Stats banner: number grow-in on load + count-up + hover */
@keyframes stat-grow {
  from {
    transform: scale(0.5);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}
.stat-number {
  animation: stat-grow 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  transform-origin: center center;
}
.stat-number--hover {
  transition: transform 0.25s ease;
}
.stat-number--hover:hover {
  transform: scale(1.08);
}
@media (prefers-reduced-motion: reduce) {
  .stat-number {
    animation: none;
    opacity: 1;
  }
  .stat-number--hover:hover {
    transform: none;
  }
}

/* --- Container queries (responsive by container width, not viewport) --- */
.container-query {
  container-type: inline-size;
  container-name: cq;
}
@container cq (min-width: 320px) {
  .cq-grid-sm { grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); }
}
@container cq (min-width: 640px) {
  .cq-grid-md { grid-template-columns: repeat(2, 1fr); }
}
@container cq (min-width: 896px) {
  .cq-grid-lg { grid-template-columns: repeat(3, 1fr); }
}
@container cq (min-width: 640px) {
  .cq-pricing-2 { grid-template-columns: repeat(2, 1fr); }
}
@container cq (min-width: 896px) {
  .cq-pricing-3 { grid-template-columns: repeat(3, 1fr); }
}

/* --- Scroll-driven animations (where supported) --- */
@supports (animation-timeline: view()) {
  @keyframes scroll-fade-in {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .scroll-driven-fade {
    animation: scroll-fade-in linear both;
    animation-timeline: view();
    animation-range: entry 0% entry 80%;
  }
}
@media (prefers-reduced-motion: reduce) {
  .scroll-driven-fade {
    animation: none;
  }
}

/* --- 2026 UI primitives --- */
.modern-shell {
  position: relative;
  isolation: isolate;
}

.modern-shell::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: -1;
  background:
    radial-gradient(1200px 500px at 10% -10%, color-mix(in srgb, var(--color-primary) 15%, transparent), transparent 70%),
    radial-gradient(1000px 450px at 90% 0%, color-mix(in srgb, var(--color-secondary) 12%, transparent), transparent 72%);
  pointer-events: none;
}

.glass-surface {
  background: color-mix(in srgb, var(--color-bg-page) 88%, transparent);
  border: 1px solid color-mix(in srgb, var(--color-border) 72%, transparent);
  backdrop-filter: blur(12px) saturate(140%);
}

.card-modern {
  border: 1px solid color-mix(in srgb, var(--color-border) 80%, transparent);
  border-radius: var(--radius-card);
  background: color-mix(in srgb, var(--color-bg-page) 96%, transparent);
  box-shadow: var(--shadow-sm);
  transition: transform 0.24s ease, box-shadow 0.24s ease, border-color 0.24s ease;
}

.card-modern:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-lg);
  border-color: color-mix(in srgb, var(--color-primary) 30%, var(--color-border));
}

.heading-fluid {
  font-size: clamp(1.9rem, 1.1rem + 2.3vw, 3.2rem);
  letter-spacing: -0.02em;
  line-height: 1.06;
}

.eyebrow {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.3rem 0.65rem;
  border-radius: var(--radius-full);
  border: 1px solid color-mix(in srgb, var(--color-border) 78%, transparent);
  background: color-mix(in srgb, var(--color-bg-page) 92%, transparent);
  color: var(--color-text-secondary);
  font-size: 0.76rem;
  font-weight: 600;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.focus-modern:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--color-bg-page) 100%, transparent),
    0 0 0 4px color-mix(in srgb, var(--color-primary) 45%, transparent);
}

/* --- Theme: Modern (v1.1) --- */
html[data-theme='modern'] {
  color-scheme: light;
}

html[data-theme='modern'] body.theme-modern {
  background:
    radial-gradient(1200px 520px at -10% -12%, color-mix(in srgb, var(--color-primary) 18%, transparent), transparent 72%),
    radial-gradient(1100px 520px at 110% 0%, color-mix(in srgb, var(--color-secondary) 14%, transparent), transparent 70%),
    linear-gradient(180deg, #f8f9fc 0%, #f5f7fb 45%, #f8f9fc 100%);
  font-family: var(--font-body);
}

html[data-theme='modern'] body.theme-modern::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  background-image:
    linear-gradient(to right, color-mix(in srgb, var(--color-primary) 8%, transparent) 1px, transparent 1px),
    linear-gradient(to bottom, color-mix(in srgb, var(--color-primary) 8%, transparent) 1px, transparent 1px);
  background-size: 36px 36px;
  opacity: 0.28;
}

html[data-theme='modern'] .theme-block-shell {
  position: relative;
  isolation: isolate;
  padding-block: clamp(0.35rem, 0.8vw, 0.65rem);
}

html[data-theme='modern'] .theme-block-shell::before {
  content: "";
  position: absolute;
  inset: 0.1rem clamp(0.4rem, 2.2vw, 2.2rem);
  border-radius: clamp(1.25rem, 2.5vw, 2.25rem);
  border: 1px solid color-mix(in srgb, var(--color-primary) 12%, var(--color-border));
  background: linear-gradient(135deg, color-mix(in srgb, #fff 92%, var(--color-primary) 8%), color-mix(in srgb, #fff 85%, var(--color-secondary-light) 15%));
  box-shadow: 0 14px 34px -24px rgba(24, 45, 94, 0.35);
  z-index: -1;
}

html[data-theme='modern'] .theme-block-shell:nth-child(2n)::before {
  background: linear-gradient(125deg, color-mix(in srgb, #fff 90%, var(--color-secondary-light) 10%), color-mix(in srgb, #fff 84%, var(--color-primary-light) 16%));
}

html[data-theme='modern'] .theme-block-inner {
  max-width: min(96vw, 1500px);
  margin-inline: auto;
}

html[data-theme='modern'] .theme-block-inner > section,
html[data-theme='modern'] .theme-block-inner > header {
  border-radius: clamp(1rem, 2vw, 1.75rem);
}

html[data-theme='modern'] main h1,
html[data-theme='modern'] main h2,
html[data-theme='modern'] main h3 {
  font-family: var(--font-heading);
  letter-spacing: -0.02em;
  line-height: 1.05;
}

html[data-theme='modern'] main p,
html[data-theme='modern'] main li {
  line-height: 1.62;
  color: var(--color-text-secondary);
}

html[data-theme='modern'] main a[class*='bg-'],
html[data-theme='modern'] main button {
  transition:
    transform var(--motion-duration-medium) var(--motion-ease-emphasis),
    box-shadow var(--motion-duration-medium) var(--motion-ease-standard),
    background-color var(--motion-duration-fast) var(--motion-ease-standard);
}

html[data-theme='modern'] main a[class*='bg-']:hover,
html[data-theme='modern'] main button:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 20px -12px color-mix(in srgb, var(--color-primary) 60%, transparent);
}

html[data-theme='modern'] main article,
html[data-theme='modern'] main .card-modern {
  border-radius: clamp(1rem, 1.8vw, 1.4rem);
  border: 1px solid color-mix(in srgb, var(--color-primary) 14%, var(--color-border));
  background: color-mix(in srgb, #fff 93%, var(--color-primary-light));
  box-shadow: 0 12px 28px -22px rgba(20, 43, 96, 0.35);
}

html[data-theme='modern'] .theme-block-shell[data-component='hero-section']::before {
  inset: clamp(0.2rem, 1vw, 0.8rem) clamp(0.4rem, 2.2vw, 2.4rem);
  border-width: 0;
  background:
    radial-gradient(180px 180px at 8% 14%, color-mix(in srgb, var(--color-primary) 30%, transparent), transparent 70%),
    radial-gradient(220px 220px at 82% 24%, color-mix(in srgb, var(--color-secondary) 24%, transparent), transparent 68%),
    linear-gradient(145deg, color-mix(in srgb, #fff 94%, var(--color-primary-light) 6%), color-mix(in srgb, #fff 88%, var(--color-secondary-light) 12%));
  box-shadow: 0 24px 44px -28px rgba(18, 47, 130, 0.32);
}

html[data-theme='modern'] .theme-block-shell[data-component='hero-section'] .eyebrow {
  background: color-mix(in srgb, var(--color-primary-light) 75%, #fff);
  border-color: color-mix(in srgb, var(--color-primary) 30%, transparent);
  color: color-mix(in srgb, var(--color-primary) 78%, #172554);
}

html[data-theme='modern'] .modern-pre-reveal {
  opacity: 0.001;
  transform: translateY(34px) scale(0.985);
  filter: blur(2px);
  transition:
    opacity 0.62s var(--motion-ease-emphasis) var(--modern-reveal-delay, 0ms),
    transform 0.62s var(--motion-ease-emphasis) var(--modern-reveal-delay, 0ms),
    filter 0.62s var(--motion-ease-standard) var(--modern-reveal-delay, 0ms);
}

html[data-theme='modern'] .modern-pre-reveal.modern-revealed {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
}

@media (prefers-reduced-motion: reduce) {
  html[data-theme='modern'] .modern-pre-reveal {
    opacity: 1;
    transform: none;
    filter: none;
    transition: none;
  }
}
