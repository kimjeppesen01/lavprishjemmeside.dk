---
/**
 * Sticky sidebar section with heading and scrollable cards grid.
 * Sidebar stays fixed while cards scroll past. Semantic and accessible.
 *
 * Props:
 *   tagline?: small label above heading
 *   heading: main heading
 *   description?: supporting text
 *   items: array of { img, title, desc }
 */
interface Props {
  tagline?: string;
  heading: string;
  description?: string;
  items: Array<{
    img: string;
    title: string;
    desc: string;
  }>;
}

const { tagline, heading, description = '', items = [] } = Astro.props;

const defaultItems = items.length > 0 ? items : [
  { img: 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=64', title: 'Responsive design', desc: 'Hjemmesider der fungerer perfekt på mobil, tablet og desktop.' },
  { img: 'https://images.unsplash.com/photo-1553877522-56169ac2460a?w=64', title: 'Hurtig hosting', desc: 'Optimerede hjemmesider med hurtig indlæsningstid.' },
  { img: 'https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=64', title: 'SEO-venlig', desc: 'Bygget for søgemaskiner, så kunder finder dig.' },
  { img: 'https://images.unsplash.com/photo-1557804506-669a67965ba0?w=64', title: 'Support', desc: 'Vi hjælper dig med opdateringer og tekniske spørgsmål.' },
];
---

<section
  id="sticky-column-section"
  aria-labelledby="sticky-column-heading"
  class="w-full py-12 md:py-16"
>
  <div class="mx-auto max-w-6xl px-4 grid gap-8 md:grid-cols-12">
    <aside class="md:col-span-4 sticky top-20 self-start p-4">
      {tagline && (
        <p class="text-sm uppercase tracking-widest font-semibold text-[var(--color-text-secondary)] flex items-center gap-2">
          <svg aria-hidden="true" class="w-3 h-3 fill-current" viewBox="0 0 512 512">
            <path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z" />
          </svg>
          {tagline}
        </p>
      )}
      <h2 id="sticky-column-heading" class="mt-2 text-2xl md:text-3xl font-bold text-[var(--color-text-primary)]">
        {heading}
      </h2>
      {description && (
        <p class="mt-4 text-base text-[var(--color-text-secondary)]">
          {description}
        </p>
      )}
    </aside>

    <div class="md:col-span-8 grid grid-cols-1 gap-6">
      {defaultItems.map((item) => (
        <article
          class="flex items-start gap-4 border border-[var(--color-border)] rounded-[var(--radius-card)] shadow-[var(--shadow-sm)] p-[var(--card-padding)] bg-[var(--color-bg-page)] hover:shadow-[var(--shadow-md)] transition-shadow duration-300"
        >
          <figure class="w-14 h-14 shrink-0">
            <img
              src={item.img}
              alt={item.title}
              class="w-full h-full object-contain rounded-[var(--radius-sm)]"
              loading="lazy"
              decoding="async"
            />
          </figure>
          <div>
            <h3 class="text-lg font-semibold text-[var(--color-text-primary)]">{item.title}</h3>
            <p class="mt-1 text-sm text-[var(--color-text-secondary)]">{item.desc}</p>
          </div>
        </article>
      ))}
    </div>
  </div>
</section>
