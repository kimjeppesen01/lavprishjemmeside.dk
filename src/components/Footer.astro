---
import headerFooter from '../data/header-footer.json';

const year = new Date().getFullYear();
const columns = Array.isArray(headerFooter.footer_columns) ? headerFooter.footer_columns : [];
const copyright = headerFooter.footer_copyright ?? null;
---

<footer class="mt-auto bg-gray-900 text-gray-400 py-12">
  <div class="mx-auto max-w-6xl px-4">
    {columns.length > 0 && (
      <div class={`grid gap-8 ${columns.length === 1 ? 'grid-cols-1' : columns.length === 2 ? 'md:grid-cols-2' : 'md:grid-cols-3'}`}>
        {columns.map((col: { title?: string; text?: string; links?: { href: string; label: string }[] }) => (
          <div>
            <h4 class="text-white font-semibold mb-3">{col.title || 'Kolonnetitel'}</h4>
            {col.text ? (
              <p class="text-sm">{col.text}</p>
            ) : col.links && col.links.length > 0 ? (
              <ul class="space-y-2 text-sm">
                {col.links.map((link: { href: string; label: string }) => (
                  <li>
                    <a href={link.href} class="hover:text-white transition-colors">{link.label}</a>
                  </li>
                ))}
              </ul>
            ) : null}
          </div>
        ))}
      </div>
    )}
    <div class="border-t border-gray-800 mt-8 pt-8 text-sm text-center">
      {copyright || `Â© ${year} lavprishjemmeside.dk. Alle rettigheder forbeholdes.`}
    </div>
  </div>
</footer>
