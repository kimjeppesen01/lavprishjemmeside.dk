---
/**
 * Trust badges â€” SSL, payment icons, guarantees.
 * Small strip for security and payment trust, often near CTA or in footer.
 */
interface Props {
  badges: Array<{
    type: 'ssl' | 'payment' | 'guarantee' | 'custom';
    label: string;
    icon?: string;
  }>;
  layout?: 'horizontal' | 'compact';
  variant?: 'strip' | 'cards';
  instanceId?: string | number;
}

const {
  badges = [],
  layout = 'horizontal',
  variant = 'strip',
  instanceId = 'default',
} = Astro.props;

const defaultBadges = [
  { type: 'ssl' as const, label: 'Sikker betaling', icon: 'ðŸ”’' },
  { type: 'guarantee' as const, label: '30 dages fuld refusion', icon: 'âœ“' },
  { type: 'payment' as const, label: 'Visa, Mastercard, MobilePay', icon: 'ðŸ’³' },
];
const displayBadges = badges.length > 0 ? badges : defaultBadges;
const isCompact = layout === 'compact';
const isCards = variant === 'cards';
---

<section
  class={`py-[var(--section-padding-y)] px-[var(--container-padding-x)] ${isCompact ? 'py-6' : ''}`}
  aria-label="TillidsmÃ¦rker"
>
  <div class="mx-auto max-w-[var(--container-max-width)]">
    {isCards ? (
      /* Cards variant: styled cards per badge */
      <div
        class="grid grid-cols-1 gap-4 sm:grid-cols-3"
        role="list"
        data-reveal
      >
        {displayBadges.map((badge, i) => (
          <div
            class="trust-card card-modern flex items-center gap-3 p-4"
            role="listitem"
            data-reveal
            style={`--reveal-delay: ${i * 60}ms`}
          >
            {badge.icon && (
              <div class="icon-wrap shrink-0 text-base" aria-hidden="true">
                {badge.icon}
              </div>
            )}
            <span
              class="text-[var(--font-size-sm)] font-medium text-[var(--color-text-primary)]"
              style="font-family: var(--font-body)"
            >
              {badge.label}
            </span>
          </div>
        ))}
      </div>
    ) : (
      /* Strip variant: horizontal flex */
      <div
        class:list={[
          'flex flex-wrap items-center justify-center gap-x-8 gap-y-4',
          isCompact && 'gap-x-6 gap-y-3',
        ]}
        role="list"
        data-reveal
      >
        {displayBadges.map((badge) => (
          <div
            class="flex items-center gap-2 rounded-[var(--radius-md)] border border-[var(--color-border)] bg-[var(--color-bg-page)] px-4 py-2.5 text-[var(--font-size-sm)] text-[var(--color-text-secondary)]"
            role="listitem"
            style="font-family: var(--font-body)"
          >
            {badge.icon && (
              <span class="text-base leading-none text-[var(--color-primary)]" aria-hidden="true">{badge.icon}</span>
            )}
            <span class="font-medium">{badge.label}</span>
          </div>
        ))}
      </div>
    )}
  </div>
</section>
